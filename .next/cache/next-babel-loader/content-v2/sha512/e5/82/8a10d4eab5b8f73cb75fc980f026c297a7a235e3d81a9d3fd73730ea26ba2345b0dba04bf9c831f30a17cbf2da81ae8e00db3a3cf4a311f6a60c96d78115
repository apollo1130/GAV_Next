{"ast":null,"code":"import httpRequest from \"../../../utils/request\";\nimport { getSession } from 'next-auth/client';\nimport { notify, useInput } from \"../../../utils/common\";\nimport { RiMastercardFill } from \"react-icons/ri\";\nimport { config } from \"../../../config\";\nexport const createCar = async newData => {\n  try {\n    const endereco_retirada_principal = {\n      \"logradouro\": newData.ruaCar,\n      \"cep\": newData.cepCar,\n      \"numero\": newData.numeroCar,\n      \"complemento\": newData.complementoCar,\n      \"bairro\": newData.bairroCar,\n      \"cidade_id\": newData.cidadeIdCar\n    };\n    let arquivos = [];\n\n    if (newData.frontalId) {\n      arquivos.push({\n        arquivo_id: newData.frontalId,\n        carro_arquivo_tipo_id: 1,\n        position: 1\n      });\n    }\n\n    if (newData.lateralDireitaId) {\n      arquivos.push({\n        arquivo_id: newData.lateralDireitaId,\n        carro_arquivo_tipo_id: 1,\n        position: 2\n      });\n    }\n\n    if (newData.lateralEsquerdaId) {\n      arquivos.push({\n        arquivo_id: newData.lateralEsquerdaId,\n        carro_arquivo_tipo_id: 1,\n        position: 3\n      });\n    }\n\n    if (newData.fundoId) {\n      arquivos.push({\n        arquivo_id: newData.fundoId,\n        carro_arquivo_tipo_id: 1,\n        position: 4\n      });\n    }\n\n    if (newData.painelInternoId) {\n      arquivos.push({\n        arquivo_id: newData.painelInternoId,\n        carro_arquivo_tipo_id: 1,\n        position: 5\n      });\n    }\n\n    const model = {\n      description: newData.modelo,\n      brand: {\n        description: newData.marca\n      }\n    };\n    const body = {\n      ano: newData.anoCar,\n      placa: newData.placaCar,\n      endereco_retirada_principal: endereco_retirada_principal,\n      model: model,\n      arquivos\n    };\n    const session = await getSession();\n    const token = 'Bearer ' + session.access_token;\n    console.log(\"body =\", body);\n    const res = await httpRequest.post(`${config.baseUrl}/api/proprietario/carros`, true, token, body);\n    return res && res.data ? res.data : res;\n  } catch (error) {\n    console.log('error', error.response); // notify(\"error\", error.response ? error.response.data : '')\n\n    return null;\n  }\n};","map":{"version":3,"sources":["D:/gav(1)/api/owner/cars/createCar.js"],"names":["httpRequest","getSession","notify","useInput","RiMastercardFill","config","createCar","newData","endereco_retirada_principal","ruaCar","cepCar","numeroCar","complementoCar","bairroCar","cidadeIdCar","arquivos","frontalId","push","arquivo_id","carro_arquivo_tipo_id","position","lateralDireitaId","lateralEsquerdaId","fundoId","painelInternoId","model","description","modelo","brand","marca","body","ano","anoCar","placa","placaCar","session","token","access_token","console","log","res","post","baseUrl","data","error","response"],"mappings":"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","sourcesContent":["\nimport httpRequest from \"../../../utils/request\"\nimport { getSession } from 'next-auth/client'\nimport { notify, useInput } from \"../../../utils/common\"\nimport { RiMastercardFill } from \"react-icons/ri\"\nimport { config } from \"../../../config\"\n\n\nexport const createCar = async (newData) => {\n  \n    try {\n\n        const endereco_retirada_principal = {\n            \"logradouro\": newData.ruaCar,\n            \"cep\": newData.cepCar,\n            \"numero\": newData.numeroCar,\n            \"complemento\": newData.complementoCar,\n            \"bairro\": newData.bairroCar,\n            \"cidade_id\": newData.cidadeIdCar\n        }\n        let arquivos = []\n        if (newData.frontalId) {\n            arquivos.push({ arquivo_id: newData.frontalId, carro_arquivo_tipo_id: 1, position: 1 })\n        }\n\n        if (newData.lateralDireitaId) {\n            arquivos.push({ arquivo_id: newData.lateralDireitaId, carro_arquivo_tipo_id: 1, position: 2 })\n        }\n\n        if (newData.lateralEsquerdaId) {\n            arquivos.push({ arquivo_id: newData.lateralEsquerdaId, carro_arquivo_tipo_id: 1, position: 3 })\n        }\n\n        if (newData.fundoId) {\n            arquivos.push({ arquivo_id: newData.fundoId, carro_arquivo_tipo_id: 1, position: 4 })\n        }\n\n        if (newData.painelInternoId) {\n            arquivos.push({ arquivo_id: newData.painelInternoId, carro_arquivo_tipo_id: 1, position: 5 })\n        }\n\n        const model = {\n            description: newData.modelo,\n            brand: {\n                description: newData.marca\n            }\n        }\n\n        const body = {\n            ano: newData.anoCar,\n            placa: newData.placaCar,\n            endereco_retirada_principal: endereco_retirada_principal,\n            model: model,\n            arquivos\n        }\n        const session = await getSession()\n        const token = 'Bearer ' + session.access_token\n\n       \n        console.log(\"body =\", body)\n\n        const res = await httpRequest.post(\n            `${config.baseUrl}/api/proprietario/carros`,\n            true,\n            token,\n            body)\n\n\n        return res && res.data ? res.data : res\n\n    } catch (error) {\n        console.log('error', error.response);\n\n        // notify(\"error\", error.response ? error.response.data : '')\n        return null\n    }\n}"]},"metadata":{},"sourceType":"module"}