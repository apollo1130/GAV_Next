{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"D:/gav(1)/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/gav(1)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { Col, Row } from \"react-bootstrap\";\nimport PublicLayout from \"../../layouts/Public\";\nimport ProfileAvatar from \"../../components/Snippets/ProfileAvatar\";\nimport SingleVehicle from \"../../components/Snippets/SingleVehicle\";\nimport RatingAvatar from \"../../components/Snippets/RatingAvatar\";\nimport Devider from \"../../components/UI/Divider\";\nimport { prefilFornecedor } from '../../api/profile/ownerProfile';\nimport { ratingDate } from '../../utils/common';\nimport { useRouter } from \"next/router\";\nimport { FullPageLoader } from '../../components/UI/Loader';\n\nvar ProfileAnother = function ProfileAnother() {\n  var router = useRouter();\n  var locatorId = router.query.locador_id;\n\n  var _useState = useState(true),\n      isLoading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(''),\n      currentUrl = _useState2[0],\n      setCurrentUrl = _useState2[1];\n\n  var _useState3 = useState({}),\n      userData = _useState3[0],\n      setUserData = _useState3[1];\n\n  useEffect(function () {\n    getPrefilFornecedor();\n  }, []);\n\n  var getPrefilFornecedor = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!locatorId && true) {\n                locatorId = window.location.pathname.split(\"/\").pop();\n                setCurrentUrl(window.location.href);\n              }\n\n              _context.next = 3;\n              return prefilFornecedor(locatorId, function () {\n                setLoading(false);\n              });\n\n            case 3:\n              data = _context.sent;\n\n              if (data != null) {\n                setUserData(data);\n              }\n\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getPrefilFornecedor() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(PublicLayout, {\n    children: isLoading ? /*#__PURE__*/_jsx(FullPageLoader, {\n      loading: isLoading\n    }) : /*#__PURE__*/_jsxs(\"div\", {\n      className: \"profile-area W-100\",\n      children: [/*#__PURE__*/_jsxs(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsx(Col, {\n          lg: 6,\n          className: \"justify-content-center\",\n          children: /*#__PURE__*/_jsx(ProfileAvatar, {\n            name: userData.nome || '',\n            ratingCount: parseFloat(userData.nota) || 0,\n            avatarUrl: userData && userData.foto_perfil_link ? userData.foto_perfil_link : '/images/icon/user-icon.png'\n          })\n        }), /*#__PURE__*/_jsxs(Col, {\n          lg: 12,\n          className: \"mt-5\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"profile-area__link\",\n            children: [\"Link divulga\\xE7\\xE3o fornecedor: \", currentUrl]\n          }), userData && userData.carros && userData.carros.length > 0 && /*#__PURE__*/_jsx(\"p\", {\n            className: \"profile-area__vehicle-title\",\n            children: \"Ve\\xEDculos dispon\\xEDveis\"\n          })]\n        })]\n      }), userData && userData.carros && userData.carros.length > 0 && userData.carros.map(function (car, i) {\n        return /*#__PURE__*/_jsx(Row, {\n          className: \"justify-content-center\",\n          children: /*#__PURE__*/_jsx(Col, {\n            lg: 6,\n            className: \"mt-5\",\n            children: /*#__PURE__*/_jsx(SingleVehicle, {\n              title: true,\n              car: car\n            })\n          })\n        }, i);\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"profile-area__rating-title\",\n        children: \"O que os motoristas falam\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        className: \"profile-area__rating-text\",\n        children: [userData && userData.avaliacoes && userData.avaliacoes.length, \" Avalia\\xE7\\xF5es\"]\n      }), /*#__PURE__*/_jsx(Row, {\n        className: \"justify-content-center mt-5\",\n        children: /*#__PURE__*/_jsx(Col, {\n          lg: 7,\n          children: userData && userData.avaliacoes && userData.avaliacoes.length > 0 && userData.avaliacoes.map(function (item, i) {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              children: [/*#__PURE__*/_jsx(RatingAvatar, {\n                imagePath: item.foto_perfil_arquivo ? item.foto_perfil_arquivo : '/images/icon/user-icon.png',\n                rating: item.avaliador && item.avaliador.nota && parseFloat(item.avaliador.nota) || 0,\n                date: item.updated_at && ratingDate(item.updated_at),\n                title: item.avaliador.nome,\n                details: item.descricao\n              }), /*#__PURE__*/_jsx(Devider, {})]\n            }, i);\n          })\n        })\n      })]\n    })\n  });\n};\n\nexport default ProfileAnother;","map":null,"metadata":{},"sourceType":"module"}