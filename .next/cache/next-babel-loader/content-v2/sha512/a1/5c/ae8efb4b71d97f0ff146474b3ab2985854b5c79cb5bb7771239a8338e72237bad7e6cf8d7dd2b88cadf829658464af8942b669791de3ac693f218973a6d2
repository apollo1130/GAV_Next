{"ast":null,"code":"import { config } from \"../../config\";\nimport { ADS_LIST__REQUEST, ADS_LIST__SUCCESS, ADS_LIST__FAIL, SINGLE_ADD__REQUEST, SINGLE_ADD__SUCCESS, SINGLE_ADD__FAIL } from \"../../constants/adsConstant\";\nimport httpRequest from \"../../utils/request\";\nimport serialize from '../../utils/serilizers';\nimport { getSession } from 'next-auth/client';\nexport const listAds = (queryParamsObj, callback) => async dispatch => {\n  dispatch({\n    type: ADS_LIST__REQUEST\n  });\n\n  try {\n    const session = await getSession();\n    const token = 'Basic ' + config.basicAuthToken;\n    const url = serialize(`${config.baseUrl}/api/anuncios?`, queryParamsObj);\n    const {\n      data\n    } = await httpRequest.get(url, true, token);\n    console.log(\"data = \", data);\n    console.log(\"session\", session);\n    dispatch({\n      type: ADS_LIST__SUCCESS,\n      payload: data\n    });\n    callback(data, null);\n  } catch (error) {\n    console.log('error', error);\n    dispatch({\n      type: ADS_LIST__FAIL,\n      payload: error.response\n    });\n    callback(null, error.response);\n  }\n};\nexport const SingleAdd = (id, callback) => async dispatch => {\n  dispatch({\n    type: SINGLE_ADD__REQUEST\n  });\n\n  try {\n    const session = await getSession();\n    const token = 'Basic ' + config.basicAuthToken;\n    const url = serialize(`${config.baseUrl}/api/anuncios/${id}`);\n    const {\n      data\n    } = await httpRequest.get(url, true, token);\n    console.log(\"data = \", data);\n    console.log(\"session\", session);\n    dispatch({\n      type: SINGLE_ADD__SUCCESS,\n      payload: data\n    });\n    callback(data, null);\n  } catch (error) {\n    console.log('error', error);\n    dispatch({\n      type: SINGLE_ADD__FAIL,\n      payload: error.response\n    });\n    callback(null, error.response);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}