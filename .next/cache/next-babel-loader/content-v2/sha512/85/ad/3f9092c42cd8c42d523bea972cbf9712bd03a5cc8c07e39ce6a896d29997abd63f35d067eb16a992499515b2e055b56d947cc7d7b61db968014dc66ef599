{"ast":null,"code":"import _regeneratorRuntime from \"D:/gav(1)/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/gav(1)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport httpRequest from \"../../../utils/request\";\nimport { getSession } from 'next-auth/client';\nimport { notify, useInput } from \"../../../utils/common\";\nimport { RiMastercardFill } from \"react-icons/ri\";\nimport { config } from \"../../../config\";\nexport var createCar = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(newData) {\n    var endereco_retirada_principal, arquivos, model, body, session, token, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            endereco_retirada_principal = {\n              \"logradouro\": newData.ruaCar,\n              \"cep\": newData.cepCar,\n              \"numero\": newData.numeroCar,\n              \"complemento\": newData.complementoCar,\n              \"bairro\": newData.bairroCar,\n              \"cidade_id\": newData.cidadeIdCar\n            };\n            arquivos = [];\n\n            if (newData.frontalId) {\n              arquivos.push({\n                arquivo_id: newData.frontalId,\n                carro_arquivo_tipo_id: 1,\n                position: 1\n              });\n            }\n\n            if (newData.lateralDireitaId) {\n              arquivos.push({\n                arquivo_id: newData.lateralDireitaId,\n                carro_arquivo_tipo_id: 1,\n                position: 2\n              });\n            }\n\n            if (newData.lateralEsquerdaId) {\n              arquivos.push({\n                arquivo_id: newData.lateralEsquerdaId,\n                carro_arquivo_tipo_id: 1,\n                position: 3\n              });\n            }\n\n            if (newData.fundoId) {\n              arquivos.push({\n                arquivo_id: newData.fundoId,\n                carro_arquivo_tipo_id: 1,\n                position: 4\n              });\n            }\n\n            if (newData.painelInternoId) {\n              arquivos.push({\n                arquivo_id: newData.painelInternoId,\n                carro_arquivo_tipo_id: 1,\n                position: 5\n              });\n            }\n\n            model = {\n              description: newData.modelo,\n              brand: {\n                description: newData.marca\n              }\n            };\n            body = {\n              ano: newData.anoCar,\n              placa: newData.placaCar,\n              endereco_retirada_principal: endereco_retirada_principal,\n              model: model,\n              arquivos: arquivos\n            };\n            _context.next = 12;\n            return getSession();\n\n          case 12:\n            session = _context.sent;\n            token = 'Bearer ' + session.access_token;\n            console.log(\"body =\", body);\n            _context.next = 17;\n            return httpRequest.post(\"\".concat(config.baseUrl, \"/api/proprietario/carros\"), true, token, body);\n\n          case 17:\n            res = _context.sent;\n            return _context.abrupt(\"return\", res && res.data ? res.data : res);\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('error', _context.t0.response); // notify(\"error\", error.response ? error.response.data : '')\n\n            return _context.abrupt(\"return\", null);\n\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 21]]);\n  }));\n\n  return function createCar(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["D:/gav(1)/api/owner/cars/createCar.js"],"names":["httpRequest","getSession","notify","useInput","RiMastercardFill","config","createCar","newData","endereco_retirada_principal","ruaCar","cepCar","numeroCar","complementoCar","bairroCar","cidadeIdCar","arquivos","frontalId","push","arquivo_id","carro_arquivo_tipo_id","position","lateralDireitaId","lateralEsquerdaId","fundoId","painelInternoId","model","description","modelo","brand","marca","body","ano","anoCar","placa","placaCar","session","token","access_token","console","log","post","baseUrl","res","data","response"],"mappings":"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","sourcesContent":["\nimport httpRequest from \"../../../utils/request\"\nimport { getSession } from 'next-auth/client'\nimport { notify, useInput } from \"../../../utils/common\"\nimport { RiMastercardFill } from \"react-icons/ri\"\nimport { config } from \"../../../config\"\n\n\nexport const createCar = async (newData) => {\n  \n    try {\n\n        const endereco_retirada_principal = {\n            \"logradouro\": newData.ruaCar,\n            \"cep\": newData.cepCar,\n            \"numero\": newData.numeroCar,\n            \"complemento\": newData.complementoCar,\n            \"bairro\": newData.bairroCar,\n            \"cidade_id\": newData.cidadeIdCar\n        }\n        let arquivos = []\n        if (newData.frontalId) {\n            arquivos.push({ arquivo_id: newData.frontalId, carro_arquivo_tipo_id: 1, position: 1 })\n        }\n\n        if (newData.lateralDireitaId) {\n            arquivos.push({ arquivo_id: newData.lateralDireitaId, carro_arquivo_tipo_id: 1, position: 2 })\n        }\n\n        if (newData.lateralEsquerdaId) {\n            arquivos.push({ arquivo_id: newData.lateralEsquerdaId, carro_arquivo_tipo_id: 1, position: 3 })\n        }\n\n        if (newData.fundoId) {\n            arquivos.push({ arquivo_id: newData.fundoId, carro_arquivo_tipo_id: 1, position: 4 })\n        }\n\n        if (newData.painelInternoId) {\n            arquivos.push({ arquivo_id: newData.painelInternoId, carro_arquivo_tipo_id: 1, position: 5 })\n        }\n\n        const model = {\n            description: newData.modelo,\n            brand: {\n                description: newData.marca\n            }\n        }\n\n        const body = {\n            ano: newData.anoCar,\n            placa: newData.placaCar,\n            endereco_retirada_principal: endereco_retirada_principal,\n            model: model,\n            arquivos\n        }\n        const session = await getSession()\n        const token = 'Bearer ' + session.access_token\n\n       \n        console.log(\"body =\", body)\n\n        const res = await httpRequest.post(\n            `${config.baseUrl}/api/proprietario/carros`,\n            true,\n            token,\n            body)\n\n\n        return res && res.data ? res.data : res\n\n    } catch (error) {\n        console.log('error', error.response);\n\n        // notify(\"error\", error.response ? error.response.data : '')\n        return null\n    }\n}"]},"metadata":{},"sourceType":"module"}