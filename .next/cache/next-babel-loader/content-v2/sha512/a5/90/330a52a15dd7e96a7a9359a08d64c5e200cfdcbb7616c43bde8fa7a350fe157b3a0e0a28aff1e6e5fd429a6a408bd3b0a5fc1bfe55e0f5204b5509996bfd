{"ast":null,"code":"import httpRequest from \"../../../utils/request\";\nimport { getSession } from 'next-auth/client';\nimport { notify, useInput } from \"../../../utils/common\";\nimport { RiMastercardFill } from \"react-icons/ri\";\nimport { config } from \"../../../config\";\nexport const createCar = async newData => {\n  try {\n    const endereco_retirada_principal = {\n      \"logradouro\": newData.ruaCar,\n      \"cep\": newData.cepCar,\n      \"numero\": newData.numeroCar,\n      \"complemento\": newData.complementoCar,\n      \"bairro\": newData.bairroCar,\n      \"cidade_id\": newData.cidadeIdCar\n    };\n    let arquivos = [];\n\n    if (newData.frontalId) {\n      arquivos.push({\n        arquivo_id: newData.frontalId,\n        carro_arquivo_tipo_id: 1,\n        position: 1\n      });\n    }\n\n    if (newData.lateralDireitaId) {\n      arquivos.push({\n        arquivo_id: newData.lateralDireitaId,\n        carro_arquivo_tipo_id: 1,\n        position: 2\n      });\n    }\n\n    if (newData.lateralEsquerdaId) {\n      arquivos.push({\n        arquivo_id: newData.lateralEsquerdaId,\n        carro_arquivo_tipo_id: 1,\n        position: 3\n      });\n    }\n\n    if (newData.fundoId) {\n      arquivos.push({\n        arquivo_id: newData.fundoId,\n        carro_arquivo_tipo_id: 1,\n        position: 4\n      });\n    }\n\n    if (newData.painelInternoId) {\n      arquivos.push({\n        arquivo_id: newData.painelInternoId,\n        carro_arquivo_tipo_id: 1,\n        position: 5\n      });\n    }\n\n    const model = {\n      description: newData.modelo,\n      brand: {\n        description: newData.marca\n      }\n    };\n    const body = {\n      ano: newData.anoCar,\n      placa: newData.placaCar,\n      endereco_retirada_principal: endereco_retirada_principal,\n      model: model,\n      arquivos\n    };\n    const session = await getSession();\n    const token = 'Bearer ' + session.access_token;\n    console.log(\"body =\", body);\n    const res = await httpRequest.post(`${config.baseUrl}/api/proprietario/carros`, true, token, body);\n    return res && res.data ? res.data : res;\n  } catch (error) {\n    console.log('error', error.response); // notify(\"error\", error.response ? error.response.data : '')\n\n    return null;\n  }\n};","map":null,"metadata":{},"sourceType":"module"}