_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{DTXa:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registrar-motorista-form",function(){return a("G98b")}])},G98b:function(e,t,a){"use strict";a.r(t);var r=a("nKUr"),n=a("o0o1"),c=a.n(n),s=a("HaE+"),l=a("hOvu"),i=a("q1tI"),o=a("3Z9Z"),u=a("JI6e"),b=a("B8DE"),d=a("laF5"),j=a("20a2"),m=function(e){var t=e.activeStep,a=e.personalNextClick,n=e.driver,c=e.changeDriver,s=Object(j.useRouter)();return Object(r.jsx)("div",{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(u.a,{lg:4,children:Object(r.jsxs)("div",{className:"mr-lg-3",children:[Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Nome:",name:"nome",value:n.nome,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Email:",name:"email",value:n.email,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Celular:",name:"celular",value:n.celular,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"CPF/CNPJ:",name:"cpf",value:n.cpf,handleOwner:c})})]})}),Object(r.jsx)(u.a,{lg:4,children:Object(r.jsxs)("div",{className:"mx-lg-3",children:[Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"CEP:",name:"cep",value:n.cep,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Estado:",name:"estado",value:n.estado,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Cidade:",name:"cidade",value:n.cidade,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Bairro:",name:"bairro",value:n.bairro,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Rua:",name:"rua",value:n.rua,handleOwner:c})})]})}),Object(r.jsx)(u.a,{lg:4,children:Object(r.jsxs)("div",{className:"ml-lg-3",children:[Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"N\xfamero:",name:"numero",value:n.numero,handleOwner:c})}),Object(r.jsx)("div",{className:"mb-5",children:Object(r.jsx)(d.b,{label:"Complemento:",name:"complemento",value:n.complemento,handleOwner:c})}),Object(r.jsxs)("div",{className:"mx-lg-5",children:[0===t?Object(r.jsx)(b.b,{title:"Cancelar",variant:"secondary",className:"w-100 mb-4 next-btn",onClick:function(){return s.push("/")}}):Object(r.jsx)(b.b,{title:"Voltar",variant:"secondary",className:"w-100 mb-4 next-btn",onClick:function(){return s.push("/")}}),Object(r.jsx)(b.b,{title:"Pr\xf3ximo",className:"w-100 next-btn",onClick:a})]})]})})]})})},p=a("rePB"),O=a("+Zbi"),x=a("nQ0r"),f=a("Yvzw"),v=a("FGyW");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(e){var t=e.activeStep,a=e.uploadBack,n=e.driver,l=e.prevDriver,d=Object(j.useRouter)(),m=Object(i.useState)(null),p=m[0],h=m[1],w=Object(i.useState)(null),N=w[0],k=w[1],S=Object(i.useState)(null),y=S[0],C=S[1],P=Object(i.useState)(null),D=P[0],F=P[1],_=Object(i.useState)(null),E=_[0],R=_[1],U=Object(i.useState)(null),L=U[0],I=U[1],B=Object(i.useState)(null),G=B[0],J=B[1],T=Object(i.useState)(null),X=T[0],Z=T[1],H=Object(i.useState)(null),z=H[0],V=H[1],Y=Object(i.useState)(null),q=Y[0],K=Y[1],M=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.target.files[0])&&h(URL.createObjectURL(a)),(r=new FormData).append("file",a),e.next=6,Object(x.a)(r);case 6:(n=e.sent)&&I(n.id);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.target.files[0])&&k(URL.createObjectURL(a)),(r=new FormData).append("file",a),e.next=6,Object(x.a)(r);case 6:(n=e.sent)&&J(n.id);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.target.files[0])&&C(URL.createObjectURL(a)),(r=new FormData).append("file",a),e.next=6,Object(x.a)(r);case 6:(n=e.sent)&&Z(n.id);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.target.files[0])&&F(URL.createObjectURL(a)),(r=new FormData).append("file",a),e.next=6,Object(x.a)(r);case 6:(n=e.sent)&&V(n.id);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.target.files[0])&&R(URL.createObjectURL(a)),(r=new FormData).append("file",a),e.next=6,Object(x.a)(r);case 6:(n=e.sent)&&K(n.id);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(g(g({},n),{},{cnhId:L,rgId:G,segurandoId:X,comprovanteId:z,prefilId:q}),l);case 2:e.sent&&d.push("/listar-carros-disponiveis");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)(o.a,{children:[Object(r.jsx)(v.a,{style:{zIndex:99999}}),Object(r.jsx)(u.a,{lg:3,md:6,className:"mb-5",children:Object(r.jsx)("div",{className:"mr-lg-3",children:Object(r.jsx)(O.a,{text:"CNH",name:"cnh",src:p,id:"cnh",onFileChange:M})})}),Object(r.jsx)(u.a,{lg:3,md:6,className:"mb-5",children:Object(r.jsx)("div",{className:"mx-lg-3",children:Object(r.jsx)(O.a,{text:"RG",name:"rg",src:N,id:"rg",onFileChange:Q})})}),Object(r.jsx)(u.a,{lg:3,md:6,className:"mb-5",children:Object(r.jsx)("div",{className:"mx-lg-3",children:Object(r.jsx)(O.a,{text:"Segurando CNH",name:"segurando",id:"segurando",src:y,onFileChange:W})})}),Object(r.jsx)(u.a,{lg:3,md:6,className:"mb-5",children:Object(r.jsx)("div",{className:"mx-lg-3",children:Object(r.jsx)(O.a,{text:"Comprovante de endere\xe7o",name:"comprovante",id:"comprovante",src:D,onFileChange:A})})})]}),Object(r.jsxs)(o.a,{className:"justify-content-lg-between",children:[Object(r.jsx)(u.a,{lg:3,md:6,className:"mb-5",children:Object(r.jsx)("div",{className:"mx-lg-3",children:Object(r.jsx)(O.a,{text:"Foto de perfil",name:"prefil",id:"prefil",src:E,onFileChange:$})})}),Object(r.jsx)(u.a,{lg:3,className:"mb-5",children:Object(r.jsxs)("div",{className:"ml-lg-3",children:[0===t?Object(r.jsx)(b.b,{title:"Cancelar",variant:"secondary",className:"w-100 mb-4 next-btn",onClick:function(){return d.push("/")}}):Object(r.jsx)(b.b,{title:"Voltar",variant:"secondary",className:"w-100 mb-4 next-btn",onClick:a}),Object(r.jsx)(b.b,{title:"Pr\xf3ximo",className:"w-100 next-btn",onClick:ee})]})})]})]})},N=a("rOcY"),k=a("ZPNs"),S=a("nGE6"),y=(a("2v50"),function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.getSession)();case 3:return a=e.sent,r="Bearer "+a.access_token,e.next=7,k.a.get("".concat(N.a.baseUrl,"/api/motorista"),!0,r);case 7:return n=e.sent,s=n.data,t(),e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0.response),t(),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}());t.default=function(){var e=Object(i.useState)(0),t=e[0],a=e[1],n=Object(i.useState)(!1),o=(n[0],n[1]),u=Object(i.useState)(""),b=(u[0],u[1],Object(i.useState)({})),d=b[0],j=b[1],p=Object(i.useState)(""),O=p[0],x=p[1],v=Object(i.useState)(""),h=v[0],g=v[1],N=Object(i.useState)(""),k=N[0],S=N[1],C=Object(i.useState)(""),P=C[0],D=C[1],F=Object(i.useState)(""),_=F[0],E=F[1],R=Object(i.useState)(""),U=R[0],L=R[1],I=Object(i.useState)(""),B=I[0],G=I[1],J=Object(i.useState)(""),T=J[0],X=J[1],Z=Object(i.useState)(""),H=Z[0],z=Z[1],V=Object(i.useState)(""),Y=V[0],q=V[1],K=Object(i.useState)(""),M=K[0],Q=K[1],W=Object(i.useState)(""),A=(W[0],W[1]),$=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.name,r=t.target.value,e.t0=a,e.next="nome"===e.t0?5:"email"===e.t0?7:"celular"===e.t0?9:"cpf"===e.t0?11:"cep"===e.t0?13:"estado"===e.t0?22:"bairro"===e.t0?24:"rua"===e.t0?26:"cidade"===e.t0?28:"numero"===e.t0?30:"complemento"===e.t0?32:34;break;case 5:return x(r),e.abrupt("break",34);case 7:return g(r),e.abrupt("break",34);case 9:return S(r),e.abrupt("break",34);case 11:return D(r),e.abrupt("break",34);case 13:return console.log("value = ",r),E(r),o(!0),e.next=18,Object(f.a)(r);case 18:return(n=e.sent)&&(console.log("add = ",n),G(n.bairro),X(n.logradouro),q(n.cidade.descricao),L(n.cidade.estado.descricao),A(n.cidade.id)),o(!1),e.abrupt("break",34);case 22:return L(r),e.abrupt("break",34);case 24:return G(r),e.abrupt("break",34);case 26:return X(r),e.abrupt("break",34);case 28:return q(r),e.abrupt("break",34);case 30:return z(r),e.abrupt("break",34);case 32:return Q(r),e.abrupt("break",34);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)(Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,y((function(){o(!1)}));case 3:(t=e.sent)&&(console.log(t),j(t),x(t.nome),g(t.email),S(t.celular),t.pessoa_fisica&&t.pessoa_fisica.cpf&&D(t.pessoa_fisica.cpf),t.endereco.length&&((a=t.endereco[0]).cidade&&a.cidade.descricao&&(q(a.cidade.descricao),A(a.cidade.id)),a.cidade&&a.cidade.estado&&a.cidade.estado.descricao&&L(a.cidade.estado.descricao),a.cep&&E(a.cep),a.bairro&&G(a.bairro),a.logradouro&&X(a.logradouro),a.numero&&z(a.numero),a.complemento&&Q(a.complemento)));case 5:case"end":return e.stop()}}),e)}))),[]);var ee=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(l.a,{children:Object(r.jsxs)("div",{className:"supplier-reg-area mb-5",children:[Object(r.jsx)("h2",{className:"text-primary mb-3",children:0===t?"Meus dados":1===t&&"Upload Fotos"}),Object(r.jsxs)("div",{className:"d-flex mb-5 pb-3",children:[Object(r.jsxs)("button",{className:"reg-step-btn w-auto pr-5 ".concat(0===t?"reg-step-btn-active":t>0?"reg-step-btn-done":""),onClick:function(){return a(0)},children:[Object(r.jsx)("span",{className:"reg-step-header"}),Object(r.jsx)("span",{children:"Dados Pessoais"})]}),Object(r.jsxs)("button",{className:"reg-step-btn w-auto ".concat(1===t?"reg-step-btn-active":t>1?"reg-step-btn-done":""),onClick:function(){return a(1)},children:[Object(r.jsx)("span",{className:"reg-step-header"}),Object(r.jsx)("span",{children:"Upload Fotos"})]})]}),function(e){switch(e){case 0:return Object(r.jsx)(m,{activeStep:t,driver:{nome:O,email:h,celular:k,cpf:P,cep:_,estado:U,bairro:B,rua:T,numero:H,cidade:Y,complemento:M},changeDriver:$,personalNextClick:ee});case 1:return Object(r.jsx)(w,{driver:{nome:O,email:h,celular:k,cpf:P,cep:_,estado:U,bairro:B,rua:T,numero:H,cidade:Y,complemento:M},activeStep:t,prevDriver:d,uploadBack:function(){return a((function(e){return e-1}))}});default:return null}}(t)]})})}}},[["DTXa",0,1,5,8,11,10,12,2,3,4,6,9,7,13,17]]]);